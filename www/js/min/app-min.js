!function(){function e(){$("#shuffler").vTicker("init",{speed:400,pause:1500,height:26})}function t(){$("#shuffler").vTicker("init",{speed:400,pause:1500,height:42})}function n(){function e(){function e(e,t){return this.geometry=new THREE.Geometry,this.geometry.vertices.push(new THREE.Vector3(-e,0,0)),this.geometry.vertices.push(new THREE.Vector3(e,0,0)),this.geometry.vertices.push(new THREE.Vector3(0,t,0)),this.geometry.faces.push(new THREE.Face3(0,1,2)),this.geometry.computeFaceNormals(),this.geometry.computeVertexNormals(),this.geometry}function t(e){return this.geometry=new THREE.Geometry,this.geometry.vertices.push(new THREE.Vector3(-e,0,0)),this.geometry.vertices.push(new THREE.Vector3(e,0,0)),this.geometry.vertices.push(new THREE.Vector3(0,e,0)),this.geometry.faces.push(new THREE.Face3(0,1,2)),this.geometry.computeFaceNormals(),this.geometry.computeVertexNormals(),this.geometry}a=document.getElementById("loader"),l=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,4e3),l.position.z=1750,s=new THREE.OrbitControls(l,a),c=new THREE.Scene,c.background=new THREE.Color(4463634),i=new THREE.Group,c.add(i);var o=function(e,t,n){return this.geometry=new THREE.Geometry,this.geometry.vertices.push(new THREE.Vector3(-e,0,0)),this.geometry.vertices.push(new THREE.Vector3(e,0,0)),this.geometry.vertices.push(new THREE.Vector3(t,n,0)),this.geometry.faces.push(new THREE.Face3(0,1,2)),this.geometry.computeFaceNormals(),this.geometry.computeVertexNormals(),this.geometry};if(1==window.devicePixelRatio)var r=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,wireframe:!0,color:12996647,alphaTest:.1,wireframeLinewidth:25,transparent:!0});else var r=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,wireframe:!0,color:12996647,alphaTest:.1,wireframeLinewidth:25,transparent:!0});var u=new o(200,1,220),m=new THREE.Mesh(u,r);m.position.set(-100,-200,0),m.rotation.y=Math.PI/3;var p=new o(200,100,300),h=new THREE.Mesh(p,r);h.position.set(0,-200,173);var f=new o(200,-150,350),E=new THREE.Mesh(f,r);E.position.set(100,-200,0),E.rotation.y=Math.PI/-3,c.add(m),c.add(h),c.add(E),d=new THREE.CanvasRenderer({antialias:!0,alpha:!0}),d.setPixelRatio(window.devicePixelRatio),d.setSize(window.innerWidth,window.innerHeight),d.setClearColor(4463634,0),d.gammaInput=!0,d.gammaOutput=!0,a.appendChild(d.domElement),window.addEventListener("resize",n,!1)}function t(){s.update(),TWEEN.update(),requestAnimationFrame(t),o()}function n(){l.aspect=window.innerWidth/window.innerHeight,l.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight),console.log("resizing!")}function o(){var e=.001*Date.now();c.rotation.y=.5*e,d.render(c,l)}var i,a,s,r,l,c,d,u=800,m=u/2}function o(){if($(window).width()>680){var e=$(".parallax .small").offset().top-$(window).scrollTop(),t=v-(w.offset().top-y.offset().top),n=t/v;if(450>e&&!y.hasClass("complete")){var o=450-e,i=18+42*n;if(75>e)y.css({color:"#F8F9D2",top:v+14,left:-T,fontSize:"60px",lineHeight:"60px",transition:"all 0.4s ease"}),y.find("span").css({color:"#C55227",fontSize:"60px",lineHeight:"60px"}),y.addClass("complete"),setTimeout(function(){y.hide(),w.css({opacity:1}),$(".btn.home.parallax-btn").addClass("animated fadeIn")},250),setTimeout(function(){$(".clients ul").addClass("animated fadeIn")},500);else{var a=-(T*n);y.css({top:o,left:a,fontSize:i+"px",lineHeight:i+"px"})}}else e>450&&!y.hasClass("complete")&&y.css({color:"#DDDDDC",top:0,left:0,fontSize:"18px",lineHeight:"18px"})}}function i(){var e=0,t=100,n=Math.floor(Math.random()*(t-e+1)+e).toString()+"%";return n}function a(){return Math.random().toFixed(2)}function s(e){for(var t=e.offsetTop,n=e.offsetLeft,o=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)e=e.offsetParent,t+=e.offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+o>window.pageXOffset}function r(){s(document.getElementById("container"))?$("#theabundancy").fadeOut():$("#theabundancy").fadeIn()}function l(){$("#theabundancy").css({display:"none"}),o(),r()}function c(){d("#Layer_8 #line-8-1",0,2,"ease-in-out"),d("#Layer_8 #line-8-2",1900,.5,"linear"),d("#Layer_8 #line-8-3",1900,.5,"linear")}function d(e,t,n,o){var i=document.querySelector(e),a=i.getTotalLength();i.style.transition=i.style.WebkitTransition="none",i.style.strokeDasharray=a+" "+a,i.style.strokeDashoffset=a,i.getBoundingClientRect(),i.style.transition=i.style.WebkitTransition="stroke-dashoffset "+n+"s "+o,setTimeout(function(){i.style.strokeDashoffset="0"},t)}function u(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var m={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return m.Android()||m.BlackBerry()||m.iOS()||m.Opera()||m.Windows()}};if(null!=m.any()&&$("#menu").addClass("mobile-orientation"),$("#menu").length&&($(".menu-button").on("click",function(){$("#menu").toggleClass("open"),$("header").removeClass("headroom--pinned").addClass("headroom--unpinned"),$("html").addClass("noscroll"),console.log("menu open clicked")}),$(".close-button").on("click",function(){$("#menu").removeClass("open"),$("html").removeClass("noscroll"),console.log("menu closed clicked")})),null==m.any()&&$(".vertical-title").length&&$(window).scroll(function(){$(".vertical-title").each(function(){var e=$(this).offset().top,t=e-$(window).scrollTop();375>t&&!$(this).hasClass("active")&&$(this).addClass("active")})}),null==m.any()&&$(".parallax").length){var p=document.querySelectorAll(".parallax"),h=.15;window.onscroll=function(){[].slice.call(p).forEach(function(e,t){var n=window.pageYOffset;e.style.backgroundPosition="0 "+n*h+"px"})}}if($("#shuffler").length){var f=!1;$(window).width()<680?(e(),f=!0,console.log("Loading Mobile vTicker")):(t(),f=!1,console.log("Loading Desktop vTicker")),$(window).resize(function(){$(window).width()<680&&!f&&($("#shuffler").vTicker("stop"),e(),f=!0,console.log("Reloading mobile vTicker")),$(window).width()>680&&f&&($("#shuffler").vTicker("stop"),t(),f=!1,console.log("Reloading desktop vTicker"))})}if($("#home").length){var E=$.getJSON("http://windev.fq540.com:8001/api/departments");E.done(function(e){function t(){function e(){window.innerWidth<720?($("#container").hasClass("back")&&r(),g.enabled=!1,N.opacity=0,_.opacity=0,K.opacity=0,ee.opacity=0,ie.opacity=0,ae.opacity=0,document.removeEventListener("mousemove",i,!1),document.removeEventListener("mouseup",r,!1),document.removeEventListener("mousedown",s,!1),document.getElementById("container").removeEventListener("click",a,!1)):(g.enabled=!0,$("#container").hasClass("back")||(N.opacity=1,_.opacity=1,K.opacity=1,ee.opacity=1,ie.opacity=1,ae.opacity=1,$("#curious-text").fadeIn()),document.removeEventListener("mousemove",i,!1),document.removeEventListener("mouseup",r,!1),document.removeEventListener("mousedown",s,!1),document.getElementById("container").removeEventListener("click",a,!1),document.addEventListener("mousemove",i,!1),document.addEventListener("mouseup",r,!1),document.addEventListener("mousedown",s,!1),document.getElementById("container").addEventListener("click",a,!1))}function t(){if(window.innerWidth>720&&$(document).scrollTop()>0)var e=10*$(document).scrollTop()}var n;E=document.getElementById("container"),v=new THREE.PerspectiveCamera(45,4/3,1,4e3),v.position.z=1750,g=new THREE.OrbitControls(v,E),T=new THREE.Scene,T.background=new THREE.Color(4463634),f=new THREE.Group,T.add(f);var l=new THREE.BoxHelper(new THREE.Mesh(new THREE.BoxGeometry(2*O,1.3*O,O)));l.material.color.setHex(16777215),l.material.blending=THREE.AdditiveBlending,l.material.transparent=!0,l.material.fog=!1;var c=new TWEEN.Tween(l.scale).to({x:800,y:800,z:800},2e3).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function(){l.scale.set(this.x,this.y,this.z)}).start(),d=W*W;H=new Float32Array(3*d),x=new Float32Array(3*d),M={color:{value:new THREE.Color(16777215)},texture:{value:(new THREE.TextureLoader).load("images/icons/ball.png")}};var u=new THREE.ShaderMaterial({uniforms:M,vertexShader:document.getElementById("vertexshader").textContent,fragmentShader:document.getElementById("fragmentshader").textContent,blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0,alphaTest:.1,fog:!1});b=new THREE.BufferGeometry,S=new Float32Array(3*W),z=new Float32Array(3*W),I=new Float32Array(W);for(var p=new THREE.Color,h,y=[],C=0,le=1/360,ce=[[12*le,.61,.42],[24*le,.98,.6],[48*le,.72,.9],[0*le,.62,.54],[79*le,.39,.59],[196*le,.38,.52],[24*le,.86,.39],[34*le,.99,.68],[163*le,.17,.72]],de=1;9>=de;de++)y.push(m[de]+C),C+=m[de];for(var ue=0;W>ue;ue++){var de=Math.random()*O-O/2,me=Math.random()*O-O/2,pe=Math.random()*O-O/2;S[3*ue]=de,S[3*ue+1]=me,S[3*ue+2]=pe;for(var me=ce.length-1;me>=0;me--)ue>y[ce.length-1]&&p.setHSL(1,1,1),ue<=y[me]&&p.setHSL(ce[me][0],ce[me][1],ce[me][2]);console.log(p.getHexString()),z[3*ue]=p.r,z[3*ue+1]=p.g,z[3*ue+2]=p.b,z[3*ue]=p.r,z[3*ue+1]=p.g,z[3*ue+2]=p.b,1==window.devicePixelRatio?I[ue]=45:I[ue]=90,w.push({velocity:new THREE.Vector3(-1+2*Math.random(),-1+2*Math.random(),-1+2*Math.random()),numConnections:0,name:ue}),O+=.3333*B>=ue?2:ue>.3333*B&&.6666*B>=ue?3:4.6,D=O/2}b.setDrawRange(0,B),b.addAttribute("position",new THREE.BufferAttribute(S,3).setDynamic(!0)),b.addAttribute("customColor",new THREE.BufferAttribute(z,3)),b.addAttribute("size",new THREE.BufferAttribute(I,1)),k=new THREE.Points(b,u),f.add(k);var he=function(e,t,n){return this.geometry=new THREE.Geometry,this.geometry.vertices.push(new THREE.Vector3(-e,0,0)),this.geometry.vertices.push(new THREE.Vector3(e,0,0)),this.geometry.vertices.push(new THREE.Vector3(t,n,0)),this.geometry.faces.push(new THREE.Face3(0,1,2)),this.geometry.computeFaceNormals(),this.geometry.computeVertexNormals(),this.geometry};ae=new THREE.MeshBasicMaterial({side:THREE.DoubleSide,wireframe:!0,color:12996647,alphaTest:.1,wireframeLinewidth:10,transparent:!0}),console.log(ae);var fe=new he(200,1,220),Ee=new THREE.Mesh(fe,ae);Ee.position.set(-100,-200,0),Ee.rotation.y=Math.PI/3;var ge=new he(200,100,300),we=new THREE.Mesh(ge,ae);we.position.set(0,-200,173);var ve=new he(200,-180,280),$e=new THREE.Mesh(ve,ae);$e.position.set(100,-200,0),$e.rotation.y=Math.PI/-3,se.add(Ee),se.add(we),se.add($e),se.scale.set(.35,.3,.35),se.position.set(-190,280,0),se.rotation.x=.35,se.rotation.y=.05,se.rotation.z=-.01,T.add(se),L=document.createElement("canvas"),L.needsUpdate=!0,L.width=1055,V=document.createElement("canvas"),V.needsUpdate=!0,V.width=730,Y=document.createElement("canvas"),Y.needsUpdate=!0,Y.width=490,J=document.createElement("canvas"),J.needsUpdate=!0,J.width=150,te=document.createElement("canvas"),te.needsUpdate=!0,te.width=350,F=L.getContext("2d"),F.font="Bold 64px 'Futura W01'",F.fillStyle="rgba(255,255,255,1)";var Re="WHAT A BEAUTIFUL VARIETY.".split("").join(String.fromCharCode(8202));F.fillText(Re,0,80),G=V.getContext("2d"),G.font="500 36px 'Futura W01'",G.fillStyle="rgba(255,255,200,1)",Re="WE'RE REINVENTING MARKETING".split("").join(String.fromCharCode(8201)),G.fillText(Re,0,40),q=Y.getContext("2d"),q.font="500 36px 'Futura W01'",q.fillStyle="rgba(255,255,200,1)",Re="FOR MODERN CLIENTS".split("").join(String.fromCharCode(8201)),q.fillText(Re,0,40),Z=J.getContext("2d"),Z.fillStyle="rgba(255,255,255,0.01)",Z.fillRect(0,64,J.width,J.height),Z.fillStyle="rgba(255,255,255,1)",Z.font="500 58px 'Futura W01'",Z.fillText("THE",0,64),ne=te.getContext("2d"),ne.fillStyle="rgba(255,255,255,0.01)",ne.fillRect(0,64,te.width,te.height),ne.fillStyle="rgba(255,255,255,1)",ne.font="500 58px 'Futura W01'",ne.fillStyle="rgba(255,255,255,1)",ne.fillText("ABUNDANCY",0,64),P=new THREE.Texture(L),P.needsUpdate=!0,P.minFilter=THREE.LinearFilter,j=new THREE.Texture(V),j.needsUpdate=!0,j.minFilter=THREE.LinearFilter,X=new THREE.Texture(Y),X.needsUpdate=!0,X.minFilter=THREE.LinearFilter,Q=new THREE.Texture(J),Q.needsUpdate=!0,Q.premultiplyAlpha=!1,Q.minFilter=THREE.LinearFilter,oe=new THREE.Texture(te),oe.needsUpdate=!0,oe.premultiplyAlpha=!1,oe.minFilter=THREE.LinearFilter,N=new THREE.MeshBasicMaterial({map:P,color:16777215,transparent:!0,opacity:1,side:THREE.DoubleSide,alphaTest:.1}),N.needsUpdate=!0,_=new THREE.MeshBasicMaterial({map:j,color:16777215,transparent:!0,opacity:1,side:THREE.DoubleSide,alphaTest:.1}),_.needsUpdate=!0,K=new THREE.MeshBasicMaterial({map:X,color:16777215,transparent:!0,opacity:1,side:THREE.DoubleSide,alphaTest:.1}),K.needsUpdate=!0,ee=new THREE.MeshBasicMaterial({map:Q,color:16777215,transparent:!0,opacity:1,side:THREE.DoubleSide,alphaTest:.1}),ee.needsUpdate=!0,ie=new THREE.MeshBasicMaterial({map:oe,color:16777215,transparent:!0,opacity:1,side:THREE.DoubleSide,alphaTest:.1}),ie.needsUpdate=!0;var He=new THREE.Mesh(new THREE.PlaneGeometry(L.width,L.height),N);He.position.set(0,0,0),He.needsUpdate=!0,He.name="Title";var xe=new THREE.Mesh(new THREE.PlaneGeometry(V.width,V.height),_);xe.position.set(0,-150,0),xe.needsUpdate=!0;var Ce=new THREE.Mesh(new THREE.PlaneGeometry(Y.width,Y.height),K);Ce.position.set(0,-200,0),Ce.needsUpdate=!0;var be=new THREE.Mesh(new THREE.PlaneGeometry(J.width,J.height),ee);be.position.set(-30,254,0),be.needsUpdate=!0;var ke=new THREE.Mesh(new THREE.PlaneGeometry(te.width,te.height),ie);ke.position.set(65,196,0),ke.needsUpdate=!0,T.add(He),T.add(xe),T.add(Ce),T.add(be),T.add(ke);var Ae=new THREE.BufferGeometry;Ae.addAttribute("position",new THREE.BufferAttribute(H,3).setDynamic(!0)),Ae.addAttribute("color",new THREE.BufferAttribute(x,3).setDynamic(!0)),Ae.computeBoundingSphere(),Ae.setDrawRange(0,0);var Me=new THREE.LineBasicMaterial({color:6710886,vertexColors:THREE.VertexColors,blending:THREE.AdditiveBlending,transparent:!0});A=new THREE.LineSegments(Ae,Me),f.add(A),setTimeout(function(){var e=setInterval(function(){U.maxConnections=U.maxConnections+1,U.minDistance=U.minDistance+4,U.maxConnections>=50&&clearInterval(e)},200)},1e3),re=new THREE.Projector,R=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),R.setPixelRatio(window.devicePixelRatio),R.setSize(document.getElementById("container").offsetWidth,document.getElementById("container").offsetWidth/(4/3)),R.setClearColor(4463634,0),R.gammaInput=!1,R.gammaOutput=!1,E.appendChild(R.domElement),ye=new THREE.Raycaster,Te=new THREE.Vector2,ye.params.Points.threshold=20,window.addEventListener("resize",e,!1),windowResize=THREEx.WindowResize(R,v),windowResize.trigger(),e(),window.innerWidth>720;var Se=$(window);Se.on("resize",e),$("#curious-text").on("click",function(){o()})}function n(){g.update(),TWEEN.update();for(var e=0,t=0,o=0,i=0;B>i;i++)w[i].numConnections=0;for(var i=0;B>i;i++){var a=w[i];if(S[3*i]+=a.velocity.x,S[3*i+1]+=a.velocity.y,S[3*i+2]+=a.velocity.z,(S[3*i+1]<-(1.3*D)||S[3*i+1]>1.3*D)&&(a.velocity.y=-a.velocity.y),(S[3*i]<-(2*D)||S[3*i]>2*D)&&(a.velocity.x=-a.velocity.x),(S[3*i+2]<-D||S[3*i+2]>D)&&(a.velocity.z=-a.velocity.z),!(U.limitConnections&&a.numConnections>=U.maxConnections))for(var s=i+1;B>s;s++){var r=w[s];if(!(U.limitConnections&&r.numConnections>=U.maxConnections)){var l=2*(S[3*i]-S[3*s]),d=S[3*i+1]-S[3*s+1],u=S[3*i+2]-S[3*s+2],m=Math.sqrt(l*l+d*d+u*u);if(m<U.minDistance){a.numConnections++,r.numConnections++;var p=1-m/U.minDistance;H[e++]=S[3*i],H[e++]=S[3*i+1],H[e++]=S[3*i+2],H[e++]=S[3*s],H[e++]=S[3*s+1],H[e++]=S[3*s+2],x[t++]=p,x[t++]=p,x[t++]=p,x[t++]=p,x[t++]=p,x[t++]=p,o++}}}}A.geometry.setDrawRange(0,2*o),A.geometry.attributes.position.needsUpdate=!0,A.geometry.attributes.color.needsUpdate=!0,k.geometry.attributes.position.needsUpdate=!0,requestAnimationFrame(n),c()}function o(){var e={y:T.rotation.y,opacity:1},t={y:3,opacity:0},n=new TWEEN.Tween(e).to(t,1e3).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function(){T.rotation.y=this.y,v.lookAt(T.position),N.opacity=this.opacity,_.opacity=this.opacity,K.opacity=this.opacity,ee.opacity=this.opacity,ie.opacity=this.opacity,ae.opacity=this.opacity,$("#curious-text").css({opacity:this.opacity})}).onComplete(function(){v.lookAt(new THREE.Vector3(0,0,0)),$("#home-overlay").css("display","flex").hide().fadeIn(500),$("html").addClass("noscroll"),$("body").addClass("noscroll"),console.log("data viz back side"),$("#container").addClass("back"),$("#curious-text").css({display:"none"})}).start(),e={x:se.rotation.x,y:se.rotation.y,z:se.rotation.z},t={x:0,y:0,z:0},n=new TWEEN.Tween(e).to(t,1e3).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function(){se.rotation.set(this.x,this.y,this.z)}).onComplete(function(){}).start()}function i(e){e.preventDefault(),Te.x=e.clientX/window.innerWidth*2-1,Te.y=2*-(e.clientY/window.innerHeight)+1}function a(e){e.preventDefault(),Te.x=e.clientX/window.innerWidth*2-1,Te.y=2*-(e.clientY/window.innerHeight)+1,ye.setFromCamera(Te,v)}function s(e){$("#scroll-down").fadeOut();var t={x:se.rotation.x,y:se.rotation.y,z:se.rotation.z},n={x:0,y:0,z:0},o=new TWEEN.Tween(t).to(n,1e3).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function(){se.rotation.set(this.x,this.y,this.z)}).onComplete(function(){}).start()}function r(e){$("#curious-text").css({display:"block",opacity:0});var t={x:se.rotation.x,y:se.rotation.y,z:se.rotation.z,opacity:N.opacity,scene:T.rotation.y},n={x:.35,y:.05,z:-.01,opacity:1,scene:0},o=new TWEEN.Tween(t).to(n,1e3).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function(){se.rotation.set(this.x,this.y,this.z),T.rotation.y=this.scene,window.innerWidth>720&&(N.opacity=this.opacity,_.opacity=this.opacity,K.opacity=this.opacity,ee.opacity=this.opacity,ie.opacity=this.opacity,ae.opacity=this.opacity,$("#curious-text").css({opacity:this.opacity})),windowResize.trigger()}).onComplete(function(){$("#stats").html("Curious?")}).start(),t={x:v.position.x,y:v.position.y,z:v.position.z},n={x:0,y:0,z:1750},o=new TWEEN.Tween(t).to(n,1e3).easing(TWEEN.Easing.Sinusoidal.InOut).onUpdate(function(){v.position.set(this.x,this.y,this.z),v.lookAt(new THREE.Vector3(0,0,0)),$("#home-overlay").is(":visible")&&$("#home-overlay").fadeOut(500),$(".tooltip").fadeOut(500)}).onComplete(function(){v.lookAt(new THREE.Vector3(0,0,0)),$("#home-overlay").css("display","none"),$("#menu").hasClass("open")||$(".modal-contain").hasClass("open")||($("html").removeClass("noscroll"),$("body").removeClass("noscroll"),$("#container").removeClass("back")),console.log("data viz front side")}).start()}function l(){v.aspect=window.innerWidth/window.innerHeight,v.updateProjectionMatrix(),R.setSize(window.innerWidth,window.innerHeight)}function c(){function e(e,t){var n=$(".tooltip"),o=n.find(".department"),i=n.find(".text");n.fadeOut("fast",function(){o.text(e),i.text(t),n.css("display","flex").hide().fadeIn("slow")})}setTimeout(function(){O=800;var t=k.geometry,n=t.attributes,o=new THREE.Color,i;if(ye.setFromCamera(Te,v),we=ye.intersectObject(k),$("#container").hasClass("back"))if(we.length>0){if($e!=we[0].index)switch(n.size.array[$e]=ge,$e=we[0].index,n.size.array[$e]=1.75*ge,o.r=n.customColor.array[3*$e],o.g=n.customColor.array[3*$e+1],o.b=n.customColor.array[3*$e+2],i=o.getHexString(),n.size.needsUpdate=!0,document.getElementById("container").style.cursor="pointer",i){case"ac4329":e("The Bigwigs","Our fearless leaders and big cheeses");break;case"fc8535":e("Analytics","Where numbers become know-how");break;case"f7f0d3":e("Project Management","Keeping our timelines in line");break;case"d24040":e("Production",'They always “know a guy"');break;case"a5bf6d":e("Strategy","Keeping our timelines in line");break;case"569ab3":e("Technology","Inventors, tinkerers, makers of magical things");break;case"b8520d":e("Account Management","Fluent in both Client and Agency")}}else null!==$e&&(n.size.array[$e]=ge,n.size.needsUpdate=!0,$e=null,document.getElementById("container").style.cursor="auto")},2e3),R.render(T,v)}console.log(window.devicePixelRatio);var d=0,u=$.parseJSON(e);console.log(u);var m=[],p=0,h=0;$.each(u,function(e,t){d+=t,"Art"===e||"Content"===e||"Copy"===e||"Creative Director"===e||"User Experience Design"===e||"Executive"===e?p+=t:"Transparent Account"===e||"Transparent Technololgy"===e?h+=t:m.push(t)}),m.push(p),m.push(h),console.log(m),$("#loader").fadeOut("slow").css({display:"none !important"});var f,E,g,y,w=[],v,T,R,H,x,C,b,k,A,M,S,z,I,W=200,B=d,O=1,D=O/2,U={showDots:!0,showLines:!0,minDistance:175,limitConnections:!0,maxConnections:10,particleCount:0},L,F,P,N,V,G,j,_,Y,q,X,K,J,Z,Q,ee,te,ne,oe,ie,ae,se=new THREE.Group,re,le,ce,de,ue,me,pe,he,fe,Ee,ge;ge=1==window.devicePixelRatio?45:90;var ye,we,ve,Te,$e,Re;t(),n()})}if($("#home").length){console.log("The Abundancy / Home");var g=$(".modal");if(null==m.any()&&$(".triangle").each(function(){var e=$(this),t=a();TweenMax.set(e,{top:i(),left:i(),scale:t});var n=[{top:i(),left:i()},{top:i(),left:i()},{top:i(),left:i()}];TweenMax.to(e,50,{bezier:{type:"thru",values:n,curviness:1,autoRotate:!0},ease:Power1.easeInOut,yoyo:!0,repeat:-1})}),$(".leadership li").on("click",function(){var e=$(this).find(".modal-name").text(),t=$(this).find(".modal-title").text(),n=$(this).find(".modal-i_am_a").text(),o=$(this).find(".modal-bio").text();g.find(".name").text(e),g.find(".title").text(t),g.find(".i_am_a").text(n),g.find(".text").text(o),g.find("img").attr("src","images/home/leadership/gif/"+$(this).attr("data-person")+".gif"),$(".modal-contain").toggleClass("open"),g.toggleClass("animated fadeInUp"),$("header").removeClass("headroom--pinned").addClass("headroom--unpinned"),$("html").addClass("noscroll"),console.log("modal open")}),$(".modal-button").on("click",function(){$(".modal-contain").toggleClass("open"),$(".modal").toggleClass("animated fadeInUp"),$("html").removeClass("noscroll"),console.log("modal closed")}),$(".modal-contain").on("click",function(){$(".modal-contain").toggleClass("open"),$(".modal").toggleClass("animated fadeInUp"),$("html").removeClass("noscroll"),console.log("modal closed")}).children().click(function(e){return!1}),$(document).keydown(function(e){27===e.keyCode&&$(".modal-contain").hasClass("open")&&($(".modal-contain").toggleClass("open"),$(".modal").toggleClass("animated fadeInUp"))}),null==m.any()){var y=$("#get-chosen-small"),w=$("#get-chosen-large"),v=w.offset().top-y.offset().top,T=y.offset().left-w.offset().left;$(window).scroll(function(){o()}),$(window).resize(function(){o()}),l()}$(window).scroll(function(){r()})}if($("#approach").length&&(console.log("The Abundancy / Our Approach"),c(),setInterval(c(),6e3)),$("#cases").length&&console.log("The Abundancy / Our Work"),$("#culture").length){console.log("The Abundancy / Our Culture");var R="390074368.1439f97.94f68308db0542b1bd4fe81f4abac769",H=15;$.ajax({url:"https://api.instagram.com/v1/users/self/media/recent",dataType:"jsonp",type:"GET",data:{access_token:R,count:H},success:function(e){var t=0;for(num in e.data){if(t>=8)break;"video"!=e.data[num].type&&($(".instagram-feed").append('<div class="box"><img src="'+e.data[num].images.standard_resolution.url+'"><a class="insta-overlay" href="'+e.data[num].link+'" target="_blank"><div class="insta-heart">'+e.data[num].likes.count+'</div><div class="insta-comments">'+e.data[num].comments.count+"</div></a></div>"),t++)}},error:function(e){console.log(e)}}),setTimeout(function(){$("#bolt-lines").removeClass("bolt-before").addClass("bolt-after")},3e3)}$("#contact").length&&(console.log("The Abundancy / Contact + Careers"),$(".input-field").focus(function(){$(this).hasClass("input-filled")||$(this).parent().addClass("input-filled")}),$(".input-field").blur(function(){""===$(this).val()&&$(this).parent().removeClass("input-filled")}),$(".dropdown").fancySelect(),$(".dropdown").fancySelect().on("change.fs",function(){$(this).trigger("update.fs")}),$("#contact-us-form").submit(function(e){e.preventDefault();var t=$("#name-input").val(),n=$("#email-input").val(),o=$("#input-subject").val(),i=$("#input-iama").val(),a=$("#contact-message").val(),s=[];""==$.trim(t)&&(console.log(t),s.push("name")),u($.trim(n))||(console.log(n),s.push("email")),""==$.trim(a)&&(console.log(a),s.push("message")),console.log(s),s.length>0?(1==s.length&&$(".error-overlay .message").text("Oops! Missed your "+s[0]+"."),2==s.length&&$(".error-overlay .message").text("Oops! Missed your "+s.join(" and ")+"."),s.length>2&&$(".error-overlay .message").text("Oops! Missed your name, email and message."),$(".error-overlay").addClass("animated fadeIn active")):($.ajax({type:"POST",url:"/contact",data:$("#contact-us-form").serialize(),cache:!1,success:function(e){console.log(e)}}),$(":input","#contact-us-form").not(":button, :submit, :reset, :hidden").val("").removeAttr("checked").removeAttr("selected").prop("disabled",!0).trigger("change"),$("span.input").removeClass("input-filled").css("opacity","0.5"),$(".dropdown").trigger("disable"),$("#contact-message, #contact-submit").remove(),$(".success-overlay").addClass("animated fadeIn active"))}),$(".error-overlay").on("click",function(){$(this).removeClass("animated fadeInUp active")}),$.ajax({url:"https://jsapi.recruiterbox.com/v1/openings?client_name=theabundancy",contentType:"application/json",success:function(e){for(var t=0;t<e.objects.length;t++){var n=e.objects[t],o='<li><div class="position">'+n.title+"<br />"+n.location.city+", "+n.location.state+", "+n.location.country+'</div><div class="type">'+n.position_type.replace(/[_-]/g," ")+'</div><a href="'+n.hosted_url+'" class="read-more" target="_blank">READ MORE</a></li>';$(".openings").append(o)}}}))}();